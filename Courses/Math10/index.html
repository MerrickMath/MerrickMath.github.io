<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Divison 3 Mathematics</title>
  <!-- Typography -->
  <link href="https://fonts.googleapis.com/css2?family=Cormorant:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#ffffff;
      --surface:#ffffff;
      --surface-alt:#B2D8CE1a; /* mint tint */
      --text:#0f172a;
      --muted:#475569;
      --indigo:#5459AC;
      --purple:#52357B;
      --lt-blue:#648DB3;
      --ring:rgba(84,89,172,.28);
      --shadow:0 8px 18px rgba(2,6,23,.07);
      --radius:16px;
    }

    *{box-sizing:border-box}
    body{margin:0;font-family:'Cormorant',serif;color:var(--text);background:var(--bg);line-height:1.55;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:0.92rem}

    /* Header */
    header.site-header{padding:22px 14px;background:linear-gradient(135deg,var(--lt-blue),var(--indigo),var(--purple));color:#fff;text-align:center}
    .site-title{margin:0;font-weight:700;font-size:clamp(24px,3.5vw,36px)}
    .site-sub{margin:.2rem 0 0;font-size:.95rem;opacity:.95}
    .contact-icon svg{fill:#fff;vertical-align:middle}
    .contact-icon a{display:inline-flex;align-items:center;gap:.35rem;margin-top:.3rem;color:inherit;text-decoration:none;font-size:.9rem}

    /* Layout */
    .container{max-width:950px;margin:22px auto 50px;padding:0 16px}
    .card{background:var(--surface);border:1px solid #e5e7eb;border-radius:var(--radius);box-shadow:var(--shadow);padding:14px 14px 10px;font-size:0.9rem}
    h2{margin:0 0 8px;font-size:clamp(1.15rem,2.2vw,1.45rem);font-weight:600;color:var(--indigo);border-bottom:2px solid var(--lt-blue);padding-bottom:.2rem}
    h3{margin:5px 0 5px;font-size:1rem;font-weight:600;color:var(--purple)}
    p{margin:.2rem 0 .8rem;font-size:0.9rem}

    /* Lists & links */
    ul{padding-left:1.1rem;margin:.1rem 0 .8rem;font-size:0.9rem}
    ul.inline{list-style:none;padding:0;margin:0;display:grid;gap:6px}
    .linkitem a{display:flex;align-items:center;justify-content:space-between;gap:10px;text-decoration:none;color:var(--indigo);background:var(--surface-alt);padding:8px 10px;border-radius:10px;border:1px solid var(--ring);transition:transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease;outline-offset:3px;font-weight:600;font-size:0.88rem}
    .linkitem a:hover,.linkitem a:focus{transform:translateY(-1px);box-shadow:0 8px 14px rgba(2,6,23,.09);border-color:var(--indigo);background:#e9ecff}

    /* Grid */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:14px}
    .col-12{grid-column:span 12}
    @media(min-width:900px){
      .col-6{grid-column:span 6}
    }

    /* Footer */
    footer.site-footer{margin:22px 0 0;text-align:center;color:var(--muted);font-size:.8rem}

    /* --- Accordion (details/summary) --- */
    .accordion{display:grid;gap:8px}
    details{border:1px solid #e5e7eb;border-radius:12px;background:var(--surface);box-shadow:var(--shadow);padding:0;overflow:hidden;font-size:0.9rem}
    summary{list-style:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;padding:10px 12px;font-weight:700;color:var(--purple);outline:none;font-size:0.92rem}
    summary::-webkit-details-marker{display:none}
    summary::after{content:"";margin-left:auto;width:9px;height:9px;border-right:2px solid var(--indigo);border-bottom:2px solid var(--indigo);transform:rotate(-45deg);transition:transform .18s ease}
    details[open] summary::after{transform:rotate(45deg)}
    details .panel{padding:0 12px 10px 12px}
    details .panel > ul{margin-top:.4rem}
  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <h1 class="site-title">Divison 3 Mathematics</h1>
    <div class="contact-icon">
      <a href="mailto:Merrick.fanning@renertschool.ca" aria-label="Email Mr. Merrick">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 24 24" aria-hidden="true"><path d="M12 .02c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.99 6.98l-6.99 5.666-6.991-5.666h13.981zm.01 10h-14v-8.505l7 5.673 7-5.672v8.504z"/></svg>
      </a>
    </div>
    <p class="site-sub">Mr. Merrick</p>
  </header>

  <main class="container" id="content" role="main">
    <section class="grid" aria-label="Course sections">
      <article class="card col-12" aria-labelledby="h-homework">
        <h2 id="h-homework">Homework</h2>
        <ul>
          <li><strong>September 3-11:</strong> <em>Complete all chapter 1 (number) lessons (1-8) from Math 10 books.</em></li>
          <li><strong>September 11-17:</strong> <em>Finish all remining in class materials for Unit 1.</em></li>
          <li><strong>September 18-25:</strong> <em>Complete chapter 2 lessons (1-3) from Math 10 books.</em></li>
          <li><strong>September 25-30:</strong> <em>Complete remaining chapter 2 lessons (4-7) from Math 10 books.</em></li>
          <li><strong>October 1-8:</strong> <em> Complete all Unit 2 materials (test Thursday) </em></li>
          <li><strong>October 9-15:</strong> <em> Complete all chapter 3 (measuremnet) lessons </em></li>
          <li><strong>October 16-22:</strong> <em> Complete all chapter 3 content (Test Thursday) </em></li>
          <li><strong>October 22-29:</strong> <em> Complete all Polynomial Operations Lessons (1-7) </em></li>
          <li><strong>November 17-24:</strong> <em> Review all Remaining Polynomials Materials </em></li>
          <li><strong>November 25-December 11:</strong> <em> All Math 10 Relations and Functions (lessons 1-12) </em></li>
          <li><strong>January 5-15:</strong> <em> All Math 10 Linear Relations Lessons </em></li>
          <li><strong>January 16-20:</strong> <em> Finish linear relations handouts from in class </em></li>
          <li><strong>January 27- February 3:</strong> <em> Finish Lessons 1-4 (Systems of Linear Equations) </em></li>
          <li><strong>February 3-10:</strong> <em> Finish Lessons 5-7 (Systems of Linear Equations) </em></li>
        </ul>
      </article>

      <article class="card col-12" aria-labelledby="h-dates">
        <h2 id="h-dates">Important Dates</h2>
        <ul>
          <li><strong>Unit Test 1 (Number):</strong> <em>September 18</em></li>
          <li><strong>Unit Test 2 (Exponents):</strong> <em>October 8</em></li>
          <li><strong>Unit Test 3 (Measurement):</strong> <em>October 23</em></li> 
          <li><strong>Alberta High School Math Contest:</strong> <em>November 18 in class</em></li>
          <li><strong>Beaver Computing Challenge:</strong> <em>November 19 in class</em></li> 
          <li><strong>Unit Test 4 (Polynomial Operations and Factoring):</strong> <em>November 24</em></li>
          <li><strong>Unit Test 5 (Relations and Functions):</strong> <em>December 17</em></li>
          <li><strong>Unit Test 6 (Linear Relations):</strong> <em>January 22</em></li>
          <li><strong>Unit 6 Retest:</strong> <em> TBD </em></li>
          <li><strong>Unit Test 7 (Systems of Linear Equations):</strong> <em>February 11</em></li>
          <li><strong>Pascal Contest:</strong> <em>February 25</em></li>
          <!---
          <li><strong>Unit Test 8 (Math 10 Trigonometry):</strong> <em>TBD</em></li>
          <li><strong>Unit Test 9 (Math 20 Trigonometry):</strong> <em>TBD</em></li>
          ---> 
        </ul>
      </article>

      <article class="card col-12" aria-labelledby="h-materials" id="materials">
        <h2>In-Class Materials</h2>
        <div class="accordion" role="list">
          <details>
            <summary><strong>General</strong></summary>
            <div class="panel">
              <ul>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/D3Outline.pdf">Course Outline</a></li>
              </ul>
            </div>
          </details>

          <details>
            <summary><strong>Puzzles and Special Events</strong></summary>
            <div class="panel">
              <ul>
                <li><strong>Locked Out - Jurassic Park:</strong> 
             <ul>
                    <li><a href="https://merrickmath.github.io/APSTAT/materials/Extra/JurassicPuzzlePack.pdf">Puzzle Pack</a></li>
                    <li><a href="https://merrickmath.github.io/APSTAT/materials/Extra/JurassicTabloids.pdf">Clues</a></li>
                  </ul>
             </li>

                <li><a href="https://renertmath.github.io/Challenges/12Days2025.html">12 Days of ChrisMATH!</a></li>

                <li><strong>Locked Out - AMONG US:</strong> 
             <ul>
                    <li><a href="https://merrickmath.github.io/Div34Math/Puzzles/AmongUsAnswerSheet.pdf">Puzzle Pack</a></li>
                    <li><a href="https://merrickmath.github.io/Div34Math/Puzzles/AmongUsTabloids.pdf">Clues</a></li>
                  </ul>
             </li> 
                
              </ul>
            </div>
          </details>

          <details>
            <summary><strong>Unit 1: Number</strong></summary>
            <div class="panel">
              <ul>
                <li><a href="https://courseware.cemc.uwaterloo.ca/41/135/assignments/1097/0">Waterloo Problems</a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/Practice.pdf">Practice</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/PracticeSoln.pdf">Solutions</a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/ExtraPractice.pdf">Extra Practice</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/ExtraPracticeSoln.pdf">Solutions</a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/Quickcheck.pdf">Quick Check</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/QuickcheckSoln.pdf">Solutions</a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/FactorialCongruence.pdf">Last Digits and Trailing Zeros</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/FactorialCongruenceSoln.pdf">Solutions</a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/Babylonian.pdf">Babylonian Method</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/BabylonianSoln.pdf">Solutions</a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/IrrationalityProofs.pdf">Irrationality Proofs</a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit1/CountabilityTheorems.pdf">Countability of Number Sets</a></li>
                <li>
                  Videos:
                  <ul>
                    <li><a href="https://www.youtube.com/watch?v=WQWkG9cQ8NQ">Size of Rationals and Irrationals I</a></li>
                    <li><a href="https://www.youtube.com/watch?v=0HF39OWyl54">Size of Rationals and Irrationals II</a></li>
                    <li><a href="https://www.youtube.com/watch?v=2FlMkP7jqQo">Irrationality of Root 2</a></li>
                    <li><a href="https://www.youtube.com/watch?v=_cr46G2K5Fo">Axiom of Choice (Enrichment)</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </details>

          <!--- UNIT 2 ---> 
          <details>
            <summary><strong>Unit 2: Exponents</strong></summary>
            <div class="panel">
              <ul>
                <li><a href="https://courseware.cemc.uwaterloo.ca/41/132/assignments/1074/0">Waterloo Problems</a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit2/Practice.pdf">Practice</a>  | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit2/PracticeSoln.pdf">Solutions</a>  </li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit2/ExtraPractice.pdf">Extra Practice</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit2/ExtraPracticeSoln.pdf">Solutions</a>  </li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit2/Quickcheck.pdf">Quick Check</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit2/QuickcheckSoln.pdf">Solutions</a> </li>
              </ul>
            </div>
          </details>
          


          
          <!--- UNIT 3 ---> 
          
          <details>
            <summary><strong>Unit 3: Measurement</strong></summary>
            <div class="panel">
              <ul>
                <li>
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit3/Practice.pdf">Practice</a> |
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit3/PracticeSoln.pdf">Solutions</a>
                </li>
                <li>
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit3/Quickcheck.pdf">Quick Check</a> |
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit3/QuickcheckSoln.pdf">Solutions</a>
                </li>
                <li>
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit3/UnitanalysisEasy.pdf">Unit Analysis</a> |
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit3/UnitanalysisEasySoln.pdf">Solutions</a>
                </li>
                <li>
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit3/UnitanalysisHard.pdf">Unit Analysis (Supercharged)</a> |
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit3/UnitanalysisHardSoln.pdf">Solutions</a>
                </li>
                <li>
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit3/DesertIslandUnits.pdf">Desert Island Unit Analysis</a> |
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit3/DesertIslandUnitsSoln.pdf">Solutions</a>
                </li>
                <li>
                  <a href="https://www.youtube.com/watch?v=0xCe6LGWWjU">Think Twice Cavalieri's Principle Video</a>
                </li>
                <li>
                  Waterloo Problems:
                  <ul>
                    <li><a href="https://courseware.cemc.uwaterloo.ca/46/assignments/1222/9">Perimeter and Area of Composite Shapes</a></li>
                    <li><a href="https://courseware.cemc.uwaterloo.ca/46/assignments/1226/14">Surface Area of Prisms and Cones</a></li>
                    <li><a href="https://courseware.cemc.uwaterloo.ca/46/assignments/1220/8">Volume of Pyramids and Cones 2</a></li>
                    <li><a href="https://courseware.cemc.uwaterloo.ca/46/assignments/1225/11">Volume and Surface Area of Spheres</a></li>
                  </ul>
                </li>
              </ul>
            </div>
          </details>




          <!--- UNIT 4 --->  
          <details>
            <summary><strong>Unit 4: Polynomial Operations and Factoring</strong></summary>
            <div class="panel">
              <ul>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit4/Practice.pdf">Practice</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit4/PracticeSoln.pdf">Solutions</a></li> 
                <!--- <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit4/Quickcheck.pdf">Quick Check</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit4/QuickcheckSoln.pdf">Solutions</a></li> ---> 
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit4/FactorByGrouping.pdf">Factor By Grouping</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit4/FactorByGroupingSoln.pdf">Solutions</a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit4/ExtraProblems.pdf">Enrichment Problems</a>  | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit4/ExtraProblemsSoln.pdf">Solutions</a> </li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit4/WordProblems.pdf">Word Problems</a> | 
                  <a href="https://merrickmath.github.io/Div34Math/Math10/Unit4/WordProblemsSoln.pdf">Solutions</a> </li>
        
                <li><a href="https://courseware.cemc.uwaterloo.ca/43/assignments/1164/15"> Waterloo Factoring trinomials exercises</a></li>

              </ul>
            </div>
          </details>

          <!--- UNIT 5 --->
          <details>
            <summary><strong>Unit 5: Relations and Functions</strong></summary>
            <div class="panel">
              <ul>
                <li><a href="https://courseware.cemc.uwaterloo.ca/44/151/assignments/1180/0"> Waterloo Problems </a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit5/Relations.pdf"> Sets, Subsets, Cartesian Products, and Relations </a>
                | <a href="https://merrickmath.github.io/Div34Math/Math10/Unit5/RelationsSoln.pdf"> Solutions </a> </li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit5/Functions.pdf"> Functions </a>
                | <a href="https://merrickmath.github.io/Div34Math/Math10/Unit5/FunctionsSoln.pdf"> Solutions </a> </li>
                <!--- <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit5/QuickCheck.pdf"> Quick Check </a>
                | <a href="https://merrickmath.github.io/Div34Math/Math10/Unit5/QuickCheckSoln.pdf"> Solutions </a> </li> ---> 
              </ul>
            </div>
          </details> 


          <!--- UNIT 6 --->
          <details>
            <summary><strong>Unit 6: Linear Relations</strong></summary>
            <div class="panel">
              <ul>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit6/ShapeAreas.pdf"> Areas of shapes formed from lines. </a>
                | <a href="https://merrickmath.github.io/Div34Math/Math10/Unit6/ShapeAreasSoln.pdf"> Solutions </a> </li>
                <li><a href="https://artofproblemsolving.com/wiki/index.php/Shoelace_Theorem?srsltid=AfmBOoo9HXwdurvwIcQBncNrnlTyZt-dWiBY6PuE5koUEihLni8OIxPT"> Shoelace theorem </a></li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit6/Formulas.pdf"> Shoelace and Distance Formulas </a></li> 
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit6/ExtraPractice.pdf"> Extra Problems  </a>
                 | <a href="https://merrickmath.github.io/Div34Math/Math10/Unit6/ExtraPracticeSoln.pdf"> Solutions </a> 
                </li>  
              </ul>
            </div>
          </details> 



          <!--- UNIT 7--->
          <details>
            <summary><strong>Unit 7: Systems of Linear Equations</strong></summary>
            <div class="panel">
              <ul>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit7/Mixed2Variable.pdf"> Word Problems </a>
                | <a href="https://merrickmath.github.io/Div34Math/Math10/Unit7/Mixed2VariableSoln.pdf"> Solutions </a> </li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit7/WordProblems.pdf"> More Word Problems (harder) </a>
                | <a href="https://merrickmath.github.io/Div34Math/Math10/Unit7/WordProblemsSoln.pdf"> Solutions </a> </li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit7/PracticeWithMatrices.pdf"> Practice with Matrices </a>
                | <a href="https://merrickmath.github.io/Div34Math/Math10/Unit7/PracticeWithMatricesSoln.pdf"> Solutions </a> </li>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit7/MorePractice.pdf"> More Practice (more difficult) </a>
                | <a href="https://merrickmath.github.io/Div34Math/Math10/Unit7/MorePracticeSoln.pdf"> Solutions </a> </li>
                </li>  
                 <li><a href="https://www.3blue1brown.com/topics/linear-algebra"> 3 Blue 1 Brown Essence of Linear Algebra (Enrichment) </a>
              </ul>
            </div>
          </details> 

            
          <!--- UNIT 8--->
          <!--
          <details>
            <summary><strong>Unit 8: Circle Geometry and Intro Trigonometry</strong></summary>
            <div class="panel">
              <ul>
                <li><a href="https://merrickmath.github.io/Div34Math/Math10/Unit7/Review.pdf"> Circle Geometry Review Packet </a>
                | <a href="https://merrickmath.github.io/Div34Math/Math10/Unit7/ReviewSoln.pdf"> Solutions </a> </li>
              </ul>
            </div>
          </details> --->
          
        </div>
      </article>
      



      <article class="card col-12" aria-labelledby="h-resources">
        <h2 id="h-resources">Class Resources</h2>
        <ul class="inline">
          <li class="linkitem"><a href="https://www.desmos.com" target="_blank" rel="noopener">Desmos</a></li>
          <li class="linkitem"><a href="https://www.cemc.uwaterloo.ca/contests/past_contests.html" target="_blank" rel="noopener"><span>CEMC Past Contests</span></a></li>
          <li class="linkitem"><a href="https://artofproblemsolving.com/wiki/index.php/AMC_Problems_and_Solutions" target="_blank" rel="noopener"><span>AMC Problems and Solutions</span></a></li>
          <li class="linkitem"><a href="https://artofproblemsolving.com/alcumus?srsltid=AfmBOoqRqOxBFzdTeEFWZ0f8bi85Gv3XQhVEADXwRDGk7E9HO1zax4p1" target="_blank" rel="noopener"><span>ALCUMUS</span></a></li>
        </ul>
      </article>

      <article class="card col-12" aria-labelledby="h-cool">
        <h2 id="h-cool">Cool Stuff</h2>
        <ul class="inline">
          <li class="linkitem"><a href="https://www.3blue1brown.com" target="_blank" rel="noopener"><span>3 Blue 1 Brown</span></a></li>
          <li class="linkitem"><a href="https://www.veritasium.com" target="_blank" rel="noopener"><span>Veritasium</span></a></li>
          <li class="linkitem"><a href="https://www.youtube.com/user/standupmaths" target="_blank" rel="noopener"><span>Stand Up Maths</span></a></li>
          <li class="linkitem"><a href="https://www.youtube.com/numberphile" target="_blank" rel="noopener"><span>Numberphile</span></a></li>
        </ul>
      </article>
    </section>

    <footer class="site-footer">
      <small id="last-updated">Last updated: <span>â€”</span></small>
    </footer>
  </main>

  <script>
/* Last updated = date of the last GitHub commit that touched this page */
(async function () {
  const target = document.querySelector('#last-updated span');
  if (!target) return;

  /* EDIT THESE for your repo */
  const OWNER  = 'merrickmath';   // GitHub username or org
  const REPO   = 'Div34Math';     // Repository name
  const BRANCH = '';              // e.g. 'gh-pages' if your site builds from that branch ('' = default)
  const siteBase = '/Div34Math/'; // If your site lives at https://<user>.github.io/Div34Math/, keep this.
                                  // If your site is at the root (https://<user>.github.io/), set to ''.

  // Compute the source file path within the repo for the current URL
  let path = window.location.pathname;
  if (siteBase && path.startsWith(siteBase)) path = path.slice(siteBase.length);
  path = path.replace(/^\/+/, '');
  if (!path || path.endsWith('/')) path += 'index.html';

  const commitURL = (filePath) => {
    const u = new URL(`https://api.github.com/repos/${OWNER}/${REPO}/commits`);
    u.searchParams.set('path', filePath);
    u.searchParams.set('per_page', '1');
    if (BRANCH) u.searchParams.set('sha', BRANCH);
    return u.toString();
  };

  const fmt = (iso) => {
    const d = new Date(iso);
    const opts = { month: 'short', day: '2-digit', year: 'numeric' };
    return { short: d.toLocaleDateString(undefined, opts), full: d.toLocaleString() };
  };

  try {
    // Try: last commit that touched this file
    let res = await fetch(commitURL(path), { headers: { 'Accept': 'application/vnd.github+json' } });
    if (!res.ok) throw new Error('GitHub API error');
    const commits = await res.json();

    let iso =
      commits?.[0]?.commit?.committer?.date ||
      commits?.[0]?.commit?.author?.date;

    // Fallback: repo last pushed_at (not file-specific, but better than "today")
    if (!iso) {
      const repoRes = await fetch(`https://api.github.com/repos/${OWNER}/${REPO}`);
      if (repoRes.ok) {
        const repo = await repoRes.json();
        iso = repo?.pushed_at || null;
      }
    }

    // Final fallback: server-provided modified time of this document
    if (!iso) iso = document.lastModified;

    const { short, full } = fmt(iso);
    target.textContent = short;
    target.title = `Last update source time: ${full}`;
  } catch (err) {
    // On error, still show something useful
    const { short, full } = fmt(document.lastModified);
    target.textContent = short;
    target.title = `Fallback from document.lastModified (${full})`;
  }
})();
</script>

</body>
</html>

