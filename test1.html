<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Unit 1 Quick Check </title>
  <style>
    :root{
      --bg:#fbfaf8; --panel:#ffffff; --ink:#161616;
      --muted:#5f616d; --border:#ece7df;
      --brand:#2563eb; --good:#15803d;
    }
  
    /* Base */
    html,body{height:100%}
    body{
      margin:0;
      background:var(--bg);
      color:var(--ink);
      font:15px/1.45 "KaTeX_Main","Latin Modern Roman","Computer Modern",
                       "STIX Two Text","Times New Roman",serif;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }
  
    /* Frame */
    .container{max-width:880px; margin:0 auto; padding:16px}
    header{
      display:flex; flex-wrap:wrap; align-items:flex-end; justify-content:space-between;
      gap:8px; margin-bottom:12px
    }
    header h1{margin:0; font-size:clamp(18px,2.4vw,22px); letter-spacing:.2px}
    header .sub{color:var(--muted); font-size:12px}
    .toolbar{display:flex; gap:8px; flex-wrap:wrap}
    button{
      border:1px solid var(--border); background:#fff;
      padding:7px 10px; border-radius:10px; cursor:pointer; font-size:13px
    }
    button.brand{background:#eef3ff; border-color:#d8e2ff; color:#0c2a7a; font-weight:600}
  
    /* Cards / sections */
    .card{
      background:var(--panel); border:1px solid var(--border);
      border-radius:12px; padding:14px 16px;
      box-shadow:0 1px 6px rgba(0,0,0,.04); margin-bottom:12px
    }
    .card h2{margin:0 0 6px 0; font-size:16px}
    .kicker{
      color:var(--muted); font-size:11px; text-transform:uppercase;
      letter-spacing:.35px; margin-bottom:6px
    }
    .divider{
      height:1px; margin:8px 0;
      background:linear-gradient(90deg, transparent, var(--border), transparent)
    }
  
    /* Question rows */
    .card > div{margin:6px 0}       /* gentle vertical rhythm */
    .mc-choices{
      display:grid; gap:6px; margin-top:6px;
      grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
    }
    /* Fixed columns at larger widths (LaTeX-style multicols) */
    @media (min-width:700px){ .mc-choices{grid-template-columns:repeat(2,1fr)} }
    @media (min-width:1000px){ .mc-choices{grid-template-columns:repeat(4,1fr)} }
  
    .choice{
      display:flex; gap:6px; align-items:flex-start;
      border:1px dashed var(--border); border-radius:8px;
      padding:6px 8px; background:#fff; font-size:14px
    }
  
    /* Answers */
    .ans{color:var(--good); font-weight:600; margin-top:6px; font-size:14px}
    .ans[hidden]{display:none!important}
  
    /* Print */
    @media print{
      .toolbar{display:none}
      body{background:#fff}
      .card{box-shadow:none}
    }
  </style>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.css">
</head>
<body>
  <div class="container">
    <header>
      <div>
        <h1>Unit 1 Quick Check</h1>
        <div class="sub">Math with Mr. Merrick ‚Ä¢ Math 10</div>
      </div>
      <div class="toolbar">
        <button id="generate" class="brand">üîÄ Generate New Version</button>
        <button id="toggleKey" aria-pressed="false">üß† Show Answers</button>
        <button id="printBtn">üñ®Ô∏è Print</button>
      </div>
    </header>

    <div id="quiz"></div>
  </div>

  <script>
    function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } return arr; }
    function typeset(el){ if(window.renderMathInElement){ window.renderMathInElement(el,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false},{left:'\\(',right:'\\)',display:false}],throwOnError:false}); } }

    const BANK = [
      { title:'A. Multiple Choice', note:'Select one option.', items:[
        {type:'mc', q:'Which of the following is a prime number?', choices:['$227$','$104$','$236$','$171$'], answer:'$227$'},
        {type:'mc', q:'The prime factorization of $150$ is', choices:['$2\\cdot 3^{2}\\cdot 5^{2}$','$2\\cdot 3\\cdot 5$','$2\\cdot 5^{2}$','$2\\cdot 3\\cdot 5^{2}$'], answer:'$2\\cdot 3\\cdot 5^{2}$'},
        {type:'mc', q:'$\\gcd(129,\\,154)$ equals', choices:['$1$','$2$','$4$','$3$'], answer:'$1$'},
        {type:'mc', q:'$\\mathrm{lcm}(13,\\,24)$ equals', choices:['$37$','$312$','$349$','$1$'], answer:'$312$'},
        {type:'mc', q:'Which is a perfect square?', choices:['$2^{3}\\cdot 3^{1}\\cdot 5^{4}$','$2^{4}\\cdot 3^{4}\\cdot 5^{2}$','$2^{4}\\cdot 3^{4}\\cdot 5^{3}$','$2^{3}\\cdot 3^{2}\\cdot 5^{1}$'], answer:'$2^{4}\\cdot 3^{4}\\cdot 5^{2}$'},
        {type:'mc', q:'Which is a perfect cube?', choices:['$2^{1}\\cdot 3^{1}\\cdot 5^{5}$','$2^{4}\\cdot 3^{4}\\cdot 5^{2}$','$2^{3}\\cdot 3^{3}\\cdot 5^{1}$','$2^{6}\\cdot 3^{3}\\cdot 5^{6}$'], answer:'$2^{6}\\cdot 3^{3}\\cdot 5^{6}$'},
        {type:'mc', q:'Write $3\\sqrt{14}$ as an entire radical.', choices:['$\\sqrt{14}$','$\\sqrt{9\\cdot 14}$','$\\sqrt{27\\cdot 14}$','$\\sqrt{42}$'], answer:'$\\sqrt{9\\cdot 14}$'},
        {type:'mc', q:'Convert to mixed radical: $\\sqrt{18}$', choices:['$3\\sqrt{8}$','$6\\sqrt{1}$','$3\\sqrt{4}$','$3\\sqrt{2}$'], answer:'$3\\sqrt{2}$'},
        {type:'mc', q:'Simplify $\\sqrt{87\\,x^{6}y^{5}}$ for $x,y\\ge 0$.', choices:['$x^{3}y^{2}\\sqrt{87}$','$x^{3}y^{2}\\sqrt{87y}$','$\\sqrt{167}$','$\\sqrt{87}x^{3}y^{2}$'], answer:'$x^{3}y^{2}\\sqrt{87y}$'},
        {type:'mc', q:'$\\sqrt[3]{-1331}$ equals', choices:['$11$','$-12$','$-10$','$-11$'], answer:'$-11$'},
        {type:'mc', q:'Which number is irrational?', choices:['$0.\\overline{88}$','$\\sqrt{109}$','$\\dfrac{3}{20}$','$0.73$'], answer:'$\\sqrt{109}$'},
        {type:'mc', q:'Simplify $\\sqrt{10}\\cdot \\sqrt{30}$.', choices:['$10\\sqrt{10}$','$10\\sqrt{30}$','$\\sqrt{300}$','$10\\sqrt{3}$'], answer:'$10\\sqrt{3}$'},
        {type:'mc', q:'Rationalize $\\dfrac{5}{\\sqrt{22}-\\sqrt{17}}$.', choices:['$\\dfrac{5(\\sqrt{22}+\\sqrt{17})}{5}$','$\\sqrt{22}+\\sqrt{17}$','$\\sqrt{22}-\\sqrt{17}$','$\\dfrac{5(\\sqrt{22}-\\sqrt{17})}{5}$'], answer:'$\\sqrt{22}+\\sqrt{17}$'},
        {type:'mc', q:'Smallest set containing $0$ is', choices:['$\\mathbb{Z}$','$\\mathbb{N}$','$\\mathbb{Q}$','$\\mathbb{W}$'], answer:'$\\mathbb{W}$'},
        {type:'mc', q:'Smallest set containing $\\dfrac{1}{4}$ is', choices:['$\\mathbb{Q}$','$\\mathbb{W}$','$\\mathbb{N}$','$\\mathbb{Z}$'], answer:'$\\mathbb{Q}$'},
        {type:'mc', q:'Which of the following is a perfect fourth power?', choices:['$27$','$82$','$80$','$81$'], answer:'$81$'}
      ]},

      { title:'B. Numeric Response', note:'Write your final answer clearly in the box.', items:[
        {type:'numeric', q:'Calculate $\\gcd(795,\\,606)$.', answer:'$3$'},
        {type:'numeric', q:'Calculate $\\mathrm{lcm}(11,\\,22,\\,17)$.', answer:'$374$'},
        {type:'numeric', q:'Let the prime factorization of $10290$ be $2^{a}\\cdot 3^{b}\\cdot 5^{c}\\cdot 7^{d}$. Compute $a+b+c+d$.', answer:'$6$'}
      ]},

      { title:'C. Written Response', note:'Show full reasoning; express final answers with positive exponents/radicals.', items:[
        {type:'written', q:'Simplify completely: $\\sqrt{39x^{4}y^{8}}$ (assume $x,y\\ge0$).', answer:'$x^{2}y^{4}\\sqrt{39}$'},
        {type:'written', q:'Rationalize and simplify: $\\dfrac{6}{\\sqrt{32}}$.', answer:'$\\dfrac{3\\sqrt{2}}{4}$'},
        {type:'written', q:'Convert $7.\\overline{19}$ to a fraction in simplest form.', answer:'$\\dfrac{712}{99}$'},
        {type:'written', q:'Evaluate $\\sqrt[3]{-2197}$.', answer:'$-13$'},
        {type:'written', q:'Prime factorize $479$ and $237$. Hence determine $\\gcd(479,237)$ and $\\mathrm{lcm}(479,237)$.', answer:'$479=479, 237=3\\cdot 79; \\gcd=1; \\mathrm{lcm}=113523$'},
        {type:'written', q:'Let $N=2\\cdot 3\\cdot 5^{2}\\cdot 7$. Decide whether $N$ is a perfect square and/or a perfect cube. If not a cube, find the least positive integer $m$ so that $Nm$ is a perfect cube.', answer:'$m=2^{2}\\cdot 3^{2}\\cdot 5^{1}\\cdot 7^{2}$'},
        {type:'written', q:'Simplify and write with radicals (no negative exponents): $\\dfrac{\\sqrt{102x^{3}y^{2}}\\;\\cdot\\; \\sqrt{12xy}}{\\sqrt{3x}}$ ($x,y\\ge0$).', answer:'$2xy\\sqrt{102xy}$'},
        {type:'written', q:'Find the sum of all integers between $151$ and $1118$ inclusive that are multiples of $2$ or $3$.', answer:'$S=409253$'},
        {type:'written', q:'Use two iterations to approximate $\\sqrt{94}$ correct to four decimal places.', answer:'$9.6954$'},
        {type:'gen', gen: randomDivisorQuestion},
        {type:'gen', gen: randomMultiplesQuestion}
      ]}
    ];

    const quizEl = document.getElementById('quiz');

    function renderQuiz(){
      quizEl.innerHTML = '';
      let qCounter = 1;
    
      BANK.forEach(section => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML =
          `<h2>${section.title}</h2>` +
          (section.note ? `<div class="kicker">${section.note}</div>` : '') +
          `<div class="divider"></div>`;
    
        section.items.forEach(item => {
          if (item.type === 'mc') {
            const shuffled = shuffle(item.choices.slice());
            const opts = shuffled.map((c, i) => {
              const letter = String.fromCharCode(65 + i);
              return `<div class="choice"><span>(${letter})</span> <span class="math">${c}</span></div>`;
            }).join('');
    
            card.innerHTML +=
              `<div><strong>${qCounter}. </strong><span class="math">${item.q}</span></div>` +
              `<div class="mc-choices">${opts}</div>` +
              `<div class="ans math" hidden>Answer: ${item.answer}</div>`;
            qCounter++;
          }
          else if (item.type === 'numeric' || item.type === 'written') {
            card.innerHTML +=
              `<div><strong>${qCounter}. </strong><span class="math">${item.q}</span></div>` +
              `<div class="ans math" hidden>Answer: ${item.answer}</div>`;
            qCounter++;
          }
          else if (item.type === 'gen') {
            // Generated question: call the generator to get fresh Q/A each render
            const { q, answer } = item.gen();
            card.innerHTML +=
              `<div><strong>${qCounter}. </strong><span class="math">${q}</span></div>` +
              `<div class="ans math" hidden>Answer: ${answer}</div>`;
            qCounter++;
          }
        });
    
        quizEl.appendChild(card);
      });
    
      // Re-typeset math (including generated content)
      typeset(quizEl);
    }


    function randomDivisorQuestion(){
      const n = Math.floor(Math.random()*900+100); // random 100‚Äì999
      // compute divisor count
      let count=1, num=n, d=2;
      while(num>1){
        let exp=0;
        while(num%d===0){ num/=d; exp++; }
        if(exp>0) count*=(exp+1);
        d++;
        if(d*d>num){ if(num>1){count*=2; break;} }
      }
      return {
        q: `Find the number of positive divisors of $${n}$.`,
        answer: `${count}`
      };
    }

    function randomMultiplesQuestion(){
      const N = Math.floor(Math.random()*1000+500); // between 500 and 1500
      const count = Array.from({length:N},(_,i)=>i+1)
        .filter(k=>(k%3===0||k%4===0)&&k%5!==0).length;
      return {
        q: `How many positive integers less than $${N}$ are multiples of $3$ or $4$ but not $5$?`,
        answer: `${count}`
      };
    }



    document.getElementById('generate').addEventListener('click', renderQuiz);
    document.getElementById('toggleKey').addEventListener('click', (e)=>{
      const pressed=e.currentTarget.getAttribute('aria-pressed')==='true';
      e.currentTarget.setAttribute('aria-pressed', String(!pressed));
      e.currentTarget.textContent=pressed?'üß† Show Answers':'üôà Hide Answers';
      document.querySelectorAll('.ans').forEach(el=>{ el.toggleAttribute('hidden'); if(!el.hasAttribute('hidden')) typeset(el); });
    });
    document.getElementById('printBtn').addEventListener('click',()=>window.print());

    document.addEventListener('DOMContentLoaded', renderQuiz);
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.10/dist/contrib/auto-render.min.js" onload="renderMathInElement(document.body,{delimiters:[{left:'$$',right:'$$',display:true},{left:'$',right:'$',display:false},{left:'\\(',right:'\\)',display:false}],throwOnError:false});"></script>
</body>
</html>
